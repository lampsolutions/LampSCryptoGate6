(this.webpackJsonp=this.webpackJsonp||[]).push([["lamp-s-crypto-gate6"],{"+nxV":function(e){e.exports=JSON.parse('{"lamps-cryptogate":{"general":{"mainMenuItemGeneral":"LampSCryptoGate6","descriptionTextModule":"Settings for LampSCryptoGate6","descriptionTextModuleTest":"Test Settings for LampSCryptoGate6"},"settingForm":{"credentials":{"cardTitle":"Check settings"},"messageSuccess":"Your settings have been validated","errorMessage":"Your credentials could not be tested successfully. Please check logfiles for details","testLive":"Test"}}}')},"2q81":function(e,t){e.exports='<sw-page class="lamps-cryprogate">\n\n    <template #smart-bar-header>\n        <h2>\n            {{ $tc(\'sw-settings.index.title\') }}\n            <sw-icon name="small-arrow-medium-right" small></sw-icon>\n            {{ $tc(\'lamps-cryptogate.general.descriptionTextModuleTest\') }}\n        </h2>\n    </template>\n\n    <template #content>\n        <sw-card-view class="sw-card-view__content">\n            <sw-card class="sw-card"\n                     :title="$tc(\'lamps-cryptogate.settingForm.credentials.cardTitle\')">\n\n                <sw-container class="sw-card sw-card--grid">\n                    <div class="sw-card__content">\n                        <sw-button-process v-model="isTestLiveSuccessful"\n                                           @click="onTest()">\n                            {{ $tc(\'lamps-cryptogate.settingForm.testLive\') }}\n                        </sw-button-process>\n\n                    </div>\n\n                </sw-container>\n                <div>\n                    <div id="result"></div>\n                </div>\n            </sw-card>\n        </sw-card-view>\n    </template>\n</sw-page>'},ZwqH:function(e){e.exports=JSON.parse('{"lamps-cryptogate":{"general":{"mainMenuItemGeneral":"LampSCryptoGate6","descriptionTextModule":"Einstellungen für LampSCryptoGate6","descriptionTextModuleTest":"Einstellungen für LampSCryptoGate6 testen"},"settingForm":{"credentials":{"cardTitle":"Einstellungen testen"},"messageSuccess":"Die Zugangsdaten wurden erfolgreich getestet","errorMessage":"Die Zugangsdaten konnten nicht erfolgreich getestet werden. Siehe Logfiles für Details","testLive":"Test"}}}')},f9b2:function(e,t,s){"use strict";s.r(t);const n=Shopware.Classes.ApiService;class a extends n{constructor(e,t,s="cryptogate"){super(e,t,s)}checkCredentials(e,t,s){const a=this.getBasicHeaders();return this.httpClient.get(`_action/${this.getApiBasePath()}/checkCredentials`,{params:{},headers:a}).then(e=>n.handleResponse(e))}}const{Application:r}=Shopware,i=r.getContainer("init");r.addServiceProvider("LampsCryptogateApiCredentialsService",e=>new a(i.httpClient,e.loginService));var o=s("2q81"),c=s.n(o);const{Component:l}=Shopware;l.register("lamps-cryptogate",{template:c.a,inject:["LampsCryptogateApiCredentialsService"],mixins:["notification"],data:()=>({isTestLiveSuccessful:!1}),methods:{onTest(){this.LampsCryptogateApiCredentialsService.checkCredentials().then(e=>{if(e.credentialsValid){let e=`<b>${this.$tc("lamps-cryptogate.settingForm.messageSuccess")}</b> `;document.getElementById("result").innerHTML="<h2>"+e+"</h2>"}else{let e=`<b>${this.$tc("lamps-cryptogate.settingForm.errorMessage")}</b> `;document.getElementById("result").innerHTML="<h2>"+e+"</h2>"}}).catch(e=>{if(e.response.data&&e.response.data.errors){let t=`<b>${this.$tc("lamps-cryptogate.settingForm.errorMessage")}</b> `;t+=e.response.data.errors.map(e=>e.detail).join(" / "),this.createNotificationError({title:this.$tc("global.default.error"),message:t}),this.isTestLiveSuccessful=!1}})}}});var p=s("ZwqH"),d=s("+nxV");const{Module:g}=Shopware;g.register("lamps-cryptogate",{type:"plugin",name:"LampSCryptoGate6",title:"lamps-cryptogate.general.mainMenuItemGeneral",description:"lamps-cryptogate.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#9AA8B5",icon:"default-action-settings",snippets:{"de-DE":p,"en-GB":d},routes:{index:{component:"lamps-cryptogate",path:"index"}},settingsItem:[{to:"lamps.cryptogate.index",group:"plugins",icon:"default-action-settings"}]})}},[["f9b2","runtime"]]]);