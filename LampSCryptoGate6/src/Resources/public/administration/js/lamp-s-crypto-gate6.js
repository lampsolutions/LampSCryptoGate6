(this.webpackJsonp=this.webpackJsonp||[]).push([["lamp-s-crypto-gate6"],{"+nxV":function(e){e.exports=JSON.parse('{"lamps-cryptogate":{"general":{"mainMenuItemGeneral":"LampSCryptoGate6","descriptionTextModule":"Einstellungen für LampSCryptoGate6"},"settingForm":{"credentials":{"cardTitle":"Check settings"},"messageSuccess":"Your settings have been validated","testLive":"Test"}}}')},"2q81":function(e,t){e.exports='<sw-card class="sw-card--grid"\n         :title="$tc(\'lamps-cryptogate.settingForm.credentials.cardTitle\')">\n\n    <sw-container>\n        <sw-button-process v-model="isTestLiveSuccessful"\n                           @click="onTest()">\n            {{ $tc(\'lamps-cryptogate.settingForm.testLive\') }}\n        </sw-button-process>\n        <div id="result"></div>\n\n    </sw-container>\n</sw-card>\n'},ZwqH:function(e){e.exports=JSON.parse('{"lamps-cryptogate":{"general":{"mainMenuItemGeneral":"LampSCryptoGate6","descriptionTextModule":"Einstellungen für LampSCryptoGate6"},"settingForm":{"credentials":{"cardTitle":"Einstellungen testen"},"messageSuccess":"Die Zugangsdaten wurden erfolgreich getestet","testLive":"Test"}}}')},f9b2:function(e,t,s){"use strict";s.r(t);const n=Shopware.Classes.ApiService;class r extends n{constructor(e,t,s="cryptogate"){super(e,t,s)}checkCredentials(e,t,s){const r=this.getBasicHeaders();return this.httpClient.get(`_action/${this.getApiBasePath()}/checkCredentials`,{params:{},headers:r}).then(e=>n.handleResponse(e))}}const{Application:a}=Shopware,i=a.getContainer("init");a.addServiceProvider("LampsCryptogateApiCredentialsService",e=>new r(i.httpClient,e.loginService));var o=s("2q81"),c=s.n(o);const{Component:p}=Shopware;p.register("lamps-cryptogate",{template:c.a,inject:["LampsCryptogateApiCredentialsService"],mixins:["notification"],data:()=>({isTestLiveSuccessful:!1}),methods:{onTest(){this.LampsCryptogateApiCredentialsService.checkCredentials().then(e=>{if(e.credentialsValid){let e=`<b>${this.$tc("lamps-cryptogate.settingForm.messageSuccess")}</b> `;document.getElementById("result").innerHTML="<h2>"+e+"</h2>"}else{let e=`<b>${this.$tc("lamps-cryptogate.settingForm.errorMessage")}</b> `;document.getElementById("result").innerHTML="<h2>"+e+"</h2>"}}).catch(e=>{if(e.response.data&&e.response.data.errors){let t=`<b>${this.$tc("lamps-cryptogate.settingForm.errorMessage")}</b> `;t+=e.response.data.errors.map(e=>e.detail).join(" / "),this.createNotificationError({title:this.$tc("global.default.error"),message:t}),this.isTestLiveSuccessful=!1}})}}});var l=s("ZwqH"),g=s("+nxV");const{Module:d}=Shopware;d.register("lamps-cryptogate",{type:"plugin",name:"LampSCryptoGate6",title:"lamps-cryptogate.general.mainMenuItemGeneral",description:"lamps-cryptogate.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#9AA8B5",icon:"default-action-settings",snippets:{"de-DE":l,"en-GB":g},routes:{index:{component:"lamps-cryptogate",path:"index"}},settingsItem:[{to:"lamps.cryptogate.index",group:"plugins",icon:"default-action-settings"}]})}},[["f9b2","runtime"]]]);